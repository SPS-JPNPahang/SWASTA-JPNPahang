<!doctype html>
<html lang="ms">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SWASTA @ SPS — Portal Digital</title>
  
  <!-- SweetAlert2 CDN -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  
  <!-- Font Awesome for Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <!-- Custom CSS -->
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

  <!-- HEADER -->
  <header class="main-header">
    <div class="header-content">
      <h1><i class="fas fa-building"></i> SWASTA @ SPS</h1>
      <p class="subtitle">Sistem Permohonan Digital</p>
    </div>
  </header>

  <!-- TAB NAVIGATION -->
  <div class="tab-container">
    <div class="tabs">
      <button class="tab-btn active" data-tab="sekolah">
        <i class="fas fa-school"></i> SEKOLAH
      </button>
      <button class="tab-btn" data-tab="pegawai">
        <i class="fas fa-user-tie"></i> PEGAWAI
      </button>
      <button class="tab-btn" data-tab="query">
        <i class="fas fa-question-circle"></i> QUERY
      </button>
      <button class="tab-btn" data-tab="download">
        <i class="fas fa-download"></i> MUAT TURUN
      </button>
    </div>
  </div>

  <!-- MAIN CONTENT CONTAINER -->
  <div class="main-container">

    <!-- ==================== TAB 1: SEKOLAH ==================== -->
    <div id="tab-sekolah" class="tab-content active">
      
      <!-- SUB-TAB: Borang atau Semak Status -->
      <div class="sub-tabs">
        <button class="sub-tab-btn active" data-subtab="borang">
          <i class="fas fa-file-alt"></i> Borang Permohonan
        </button>
        <button class="sub-tab-btn" data-subtab="semak">
          <i class="fas fa-search"></i> Semak Status
        </button>
      </div>

      <!-- SUB-TAB CONTENT: BORANG PERMOHONAN -->
      <div id="subtab-borang" class="subtab-content active">
        <div class="content-card">
          <h2><i class="fas fa-file-signature"></i> Borang Permohonan</h2>
          <p class="note">Pilih kategori permohonan di bawah. Sistem akan paparkan borang yang sesuai.</p>

          <!-- KATEGORI SELECTOR -->
          <div class="form-group">
            <label for="kategori"><i class="fas fa-list"></i> Kategori Permohonan</label>
            <select id="kategori" class="form-control">
              <option value="Kenamaan">Kenamaan</option>
              <option value="Premis">Premis</option>
              <option value="Agensi">Agensi</option>
            </select>
          </div>

          <div class="forms">
            <!-- ========== BORANG KENAMAAN ========== -->
            <form id="form-kenamaan" class="form-category active">
              <h3><i class="fas fa-award"></i> Permohonan — Kenamaan</h3>
              
              <div class="form-row">
                <div class="form-group">
                  <label>Kod Sekolah *</label>
                  <input id="kodSekolah_k" class="form-control" placeholder="Contoh: CBA0001" autocomplete="off" />
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label>Nama Sekolah</label>
                  <input id="namaSekolah_k" class="form-control" readonly placeholder="(Akan diisi automatik)"/>
                </div>
              </div>

              <div class="form-row two-col">
                <div class="form-group">
                  <label>Daerah</label>
                  <input id="daerah_k" class="form-control" readonly placeholder="(Akan diisi automatik)"/>
                </div>
                <div class="form-group">
                  <label>Peringkat</label>
                  <input id="peringkat_k" class="form-control" readonly placeholder="(Akan diisi automatik)"/>
                </div>
              </div>

              <div class="form-row two-col">
                <div class="form-group">
                  <label>Poskod *</label>
                  <input id="poskod_k" class="form-control" placeholder="Poskod" />
                </div>
                <div class="form-group">
                  <label>Jawatan Ketua *</label>
                  <select id="jawatanKetua_k" class="form-control">
                    <option value="">-- Pilih --</option>
                    <option value="PENGETUA">PENGETUA</option>
                    <option value="GURU BESAR">GURU BESAR</option>
                  </select>
                </div>
              </div>

              <div class="form-row two-col">
                <div class="form-group">
                  <label>Tarikh Program *</label>
                  <input id="tarikhProgram_k" class="form-control" type="date" />
                </div>
                <div class="form-group">
                  <label>Masa Program *</label>
                  <input id="masaProgram_k" class="form-control" type="time" />
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label>Hari Program</label>
                  <input id="hariProgram_k" class="form-control" readonly placeholder="(Akan diisi automatik)" />
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label>Lokasi *</label>
                  <input id="lokasi_k" class="form-control" placeholder="Lokasi program" />
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label>Nama Program *</label>
                  <input id="namaProgram_k" class="form-control" placeholder="Nama program" />
                </div>
              </div>

              <div class="form-row two-col">
                <div class="form-group">
                  <label>Nama Perasmi *</label>
                  <input id="namaPerasmi_k" class="form-control" placeholder="Nama perasmi" />
                </div>
                <div class="form-group">
                  <label>Jawatan Perasmi *</label>
                  <input id="jawatanPerasmi_k" class="form-control" placeholder="Jawatan perasmi" />
                </div>
              </div>

              <div class="divider"></div>
              <h4><i class="fas fa-user"></i> Maklumat Penghubung</h4>

              <div class="form-row">
                <div class="form-group">
                  <label>Nama Penghubung *</label>
                  <input id="namaPenghubung_k" class="form-control" placeholder="Nama pegawai / guru" />
                </div>
              </div>

              <div class="form-row two-col">
                <div class="form-group">
                  <label>Email Penghubung *</label>
                  <input id="emailPenghubung_k" class="form-control" type="email" placeholder="email@example.com" />
                </div>
                <div class="form-group">
                  <label>Telefon Penghubung *</label>
                  <input id="telefonPenghubung_k" class="form-control" placeholder="0123456789" />
                </div>
              </div>
            </form>

            <!-- ========== BORANG PREMIS ========== -->
            <form id="form-premis" class="form-category">
              <h3><i class="fas fa-building"></i> Permohonan — Premis</h3>
              
              <div class="form-row">
                <div class="form-group">
                  <label>Kod Sekolah *</label>
                  <input id="kodSekolah_p" class="form-control" placeholder="Contoh: CBA0001" />
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label>Nama Sekolah</label>
                  <input id="namaSekolah_p" class="form-control" readonly placeholder="(Akan diisi automatik)" />
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label>Nama Pemilik Premis *</label>
                  <input id="pemilikPremis_p" class="form-control" placeholder="Nama pemilik premis" />
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label>Alamat Premis *</label>
                  <input id="alamatPremis_p" class="form-control" placeholder="Alamat premis" />
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label>Tujuan / Butiran *</label>
                  <textarea id="butiranPremis_p" class="form-control" rows="4" placeholder="Butiran ringkas"></textarea>
                </div>
              </div>

              <div class="divider"></div>
              <h4><i class="fas fa-user"></i> Maklumat Penghubung</h4>

              <div class="form-row">
                <div class="form-group">
                  <label>Nama Penghubung *</label>
                  <input id="namaPenghubung_p" class="form-control" placeholder="Nama pegawai / guru" />
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label>Email Penghubung *</label>
                  <input id="emailPenghubung_p" class="form-control" type="email" placeholder="email@example.com" />
                </div>
              </div>
            </form>

            <!-- ========== BORANG AGENSI ========== -->
            <form id="form-agensi" class="form-category">
              <h3><i class="fas fa-landmark"></i> Permohonan — Agensi</h3>
              
              <div class="form-row">
                <div class="form-group">
                  <label>Kod Sekolah *</label>
                  <input id="kodSekolah_a" class="form-control" placeholder="Contoh: CBA0001" />
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label>Nama Sekolah</label>
                  <input id="namaSekolah_a" class="form-control" readonly placeholder="(Akan diisi automatik)" />
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label>Nama Agensi *</label>
                  <input id="namaAgensi_a" class="form-control" placeholder="Nama agensi / jabatan" />
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label>Tujuan / Butiran *</label>
                  <textarea id="butiranAgensi_a" class="form-control" rows="4" placeholder="Butiran ringkas"></textarea>
                </div>
              </div>

              <div class="divider"></div>
              <h4><i class="fas fa-user"></i> Maklumat Penghubung</h4>

              <div class="form-row">
                <div class="form-group">
                  <label>Nama Penghubung *</label>
                  <input id="namaPenghubung_a" class="form-control" placeholder="Nama pegawai / guru" />
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label>Email Penghubung *</label>
                  <input id="emailPenghubung_a" class="form-control" type="email" placeholder="email@example.com" />
                </div>
              </div>
            </form>

            <!-- ========== BAHAGIAN UPLOAD FAIL ========== -->
            <div class="divider"></div>
            <h3 style="color:#D4AF37; margin-top:30px;"><i class="fas fa-paperclip"></i> Muat Naik Dokumen (Opsional)</h3>
            <p class="note">Anda boleh muat naik sehingga 3 fail PDF untuk permohonan anda.</p>

            <div class="file-upload-section">
              <label>1. Surat Permohonan (PDF)</label>
              <input type="file" id="fileSurat" accept=".pdf" class="file-input" />
              <div id="previewSurat" class="file-preview"></div>
            </div>

            <div class="file-upload-section">
              <label>2. Borang Permohonan (PDF)</label>
              <input type="file" id="fileBorang" accept=".pdf" class="file-input" />
              <div id="previewBorang" class="file-preview"></div>
            </div>

            <div class="file-upload-section">
              <label>3. Kertas Cadangan (PDF)</label>
              <input type="file" id="fileCadangan" accept=".pdf" class="file-input" />
              <div id="previewCadangan" class="file-preview"></div>
            </div>

            <!-- ========== SUBMIT BUTTON ========== -->
            <button id="btnSubmit" class="btn-primary">
              <i class="fas fa-paper-plane"></i> Hantar Permohonan
            </button>
          </div>
        </div>
      </div>

      <!-- SUB-TAB CONTENT: SEMAK STATUS -->
      <div id="subtab-semak" class="subtab-content">
        <div class="content-card">
          <h2><i class="fas fa-search"></i> Semak Status Permohonan</h2>
          <p class="note">Masukkan Kod Sekolah untuk melihat semua permohonan anda.</p>

          <div class="semak-form">
            <div class="form-group">
              <label><i class="fas fa-school"></i> Kod Sekolah</label>
              <input id="semakKodSekolah" class="form-control" placeholder="Contoh: CBA0001" />
            </div>

            <button id="btnSemakStatus" class="btn-primary">
              <i class="fas fa-search"></i> Cari Permohonan
            </button>
          </div>

          <!-- RESULT CONTAINER -->
          <div id="semakResult" class="semak-result"></div>
        </div>
      </div>

    </div>

    <!-- ==================== TAB 2: PEGAWAI ==================== -->
    <div id="tab-pegawai" class="tab-content">
      
      <!-- LOGIN SCREEN -->
      <div id="pegawai-login" class="login-container">
        <div class="login-card">
          <h2><i class="fas fa-lock"></i> Portal Pegawai</h2>
          <p class="note">Sila masukkan kata laluan untuk akses.</p>

          <div class="form-group">
            <label><i class="fas fa-key"></i> Kata Laluan</label>
            <input id="pegawaiPassword" type="password" class="form-control" placeholder="Masukkan kata laluan" />
          </div>

          <button id="btnPegawaiLogin" class="btn-primary">
            <i class="fas fa-sign-in-alt"></i> Log Masuk
          </button>
        </div>
      </div>

      <!-- DASHBOARD (Hidden until login) -->
      <div id="pegawai-dashboard" class="dashboard-container" style="display:none;">
        <div class="dashboard-header">
          <h2><i class="fas fa-tachometer-alt"></i> Dashboard Pegawai</h2>
          <button id="btnPegawaiLogout" class="btn-secondary">
            <i class="fas fa-sign-out-alt"></i> Log Keluar
          </button>
        </div>

        <!-- REFRESH BUTTON -->
        <div class="filter-bar">
          <button id="btnRefreshDashboard" class="btn-secondary">
            <i class="fas fa-sync-alt"></i> Refresh
          </button>
        </div>

        <!-- PEGAWAI SEMAK: 3 TABLES -->
        <div id="pegawai-multi" style="display:none;">
          <div class="section-header">
            <h3><i class="fas fa-inbox"></i> Permohonan Baru</h3>
          </div>
          <div id="tbl-baru" class="table-container"></div>

          <div class="section-header" style="margin-top:2rem;">
            <h3><i class="fas fa-question-circle"></i> Query</h3>
          </div>
          <div id="tbl-query" class="table-container"></div>

          <div class="section-header" style="margin-top:2rem;">
            <h3><i class="fas fa-check-circle"></i> Disahkan</h3>
          </div>
          <div id="tbl-disahkan" class="table-container"></div>
        </div>

        <!-- TIMBALAN PENGARAH: 1 TABLE -->
        <div id="pegawai-single" style="display:none;" class="table-container">
          <!-- Table will be populated by JavaScript -->
        </div>
      </div>

    </div>

    <!-- ==================== TAB 3: QUERY ==================== -->
    <div id="tab-query" class="tab-content">
  <div class="content-card">
    <h2><i class="fas fa-question-circle"></i> Query Permohonan</h2>
    <p class="note">Senarai permohonan yang memerlukan pembetulan.</p>

    <div class="semak-form">
      <div class="form-group">
        <label><i class="fas fa-school"></i> Kod Sekolah</label>
        <input id="queryKodSekolah" class="form-control" placeholder="Contoh: CBA0001" />
      </div>
      <button id="btnQuerySearch" class="btn-primary">
        <i class="fas fa-search"></i> Cari
      </button>
    </div>

    <div id="queryResult" class="semak-result"></div>
  </div>
    </div>

    <!--======================TAB 4 : MUAT TURUN================-->
    <!-- Selepas tab-query -->
    <div id="tab-download" class="tab-content">
      <div class="content-card">
        <h2><i class="fas fa-download"></i> Muat Turun Bahan</h2>
        <p class="note">Borang dan dokumen berkaitan permohonan.</p>

        <div class="download-grid">
          <!-- Kenamaan -->
          <div class="download-card">
          <div class="download-icon">
          <i class="fas fa-award"></i>
          </div>
          <h3>Kenamaan</h3>
          <p>Borang permohonan kenamaan program/majlis</p>
          <button class="btn-primary" onclick="downloadFile('kenamaan')">
          <i class="fas fa-file-pdf"></i> Muat Turun PDF
          </button>
        </div>

          <!-- Premis -->
        <div class="download-card">
        <div class="download-icon">
          <i class="fas fa-building"></i>
        </div>
          <h3>Premis</h3>
          <p>Borang permohonan penggunaan premis</p>
          <button class="btn-primary" onclick="downloadFile('premis')">
          <i class="fas fa-file-pdf"></i> Muat Turun PDF
          </button>
        </div>

          <!-- Agensi -->
        <div class="download-card">
        <div class="download-icon">
          <i class="fas fa-landmark"></i>
        </div>
          <h3>Agensi</h3>
          <p>Borang permohonan lawatan agensi</p>
        <button class="btn-primary" onclick="downloadFile('agensi')">
          <i class="fas fa-file-pdf"></i> Muat Turun PDF
        </button>
        </div>

          <!-- Panduan -->
        <div class="download-card">
        <div class="download-icon">
          <i class="fas fa-book"></i>
        </div>
          <h3>Panduan Pengguna</h3>
          <p>Panduan lengkap penggunaan sistem</p>
        <button class="btn-primary" onclick="downloadFile('panduan')">
          <i class="fas fa-file-pdf"></i> Muat Turun PDF
        </button>
        </div>
      </div>
      </div>
    </div>

  </div>

  <!-- FOOTER -->
  <footer class="main-footer">
    <p>&copy; 2025 Sektor Pengurusan Sekolah. Semua hak cipta terpelihara.</p>
    <p>Jabatan Pendidikan Negeri Pahang</p>
  </footer>

  <!-- LOAD JAVASCRIPT FILES -->
  <script src="js/config.js"></script>
  <script src="js/utils.js"></script>
  <script src="js/forms.js"></script>
  <script src="js/tabs.js"></script>
  <script src="js/pegawai.js"></script>
  <script src="js/semak.js"></script>
  <script src="js/agensi.js"></script>
  <script src="js/query.js"></script>
  <script src="js/download.js"></script>
</body>
</html>